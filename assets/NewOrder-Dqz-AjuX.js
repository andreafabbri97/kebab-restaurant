import{d as Q,j as e,U as je,S as H,e as Ae,f as Ie,h as de,u as Me,i as Oe,r as n,k as ze,l as Pe,m as Ee,n as De,o as Ve,p as pe,s as f,X as Be,q as Re,t as Ue,v as Le,w as Ye,x as He}from"./index-DQOOQrmB.js";import{C as Ne}from"./clock-DQBoLW1t.js";import{P as Qe}from"./plus-XiTJV-vU.js";import{B as Xe}from"./banknote-BcwDZ9CI.js";import{S as Ge}from"./smartphone-qcVBfrK3.js";import{M as Je}from"./Modal-kvAS13P2.js";const Ke=[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]],We=Q("bike",Ke);const Ze=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],es=Q("chevron-up",Ze);const ss=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],fe=Q("message-square",ss);const ts=[["path",{d:"M5 12h14",key:"1ays0h"}]],as=Q("minus",ts);function be({isMobile:$=!1,orderType:o,setOrderType:k,selectedTable:X,setSelectedTable:T,onTableSelect:F,tables:G,customerName:J,setCustomerName:K,customerPhone:W,setCustomerPhone:Z,cart:u,cartItemsCount:d,cartTotal:b,ivaRate:_,ivaAmount:q,grandTotal:j,expandedItemId:h,setExpandedItemId:x,notes:N,setNotes:w,paymentMethod:p,setPaymentMethod:g,smacPassed:c,setSmacPassed:A,isSubmitting:I,clearCart:M,updateQuantity:C,removeFromCart:O,updateItemNotes:S,submitOrder:z,isSessionOrder:v=!1,sessionTableName:P,orderNumber:E}){return e.jsxs("div",{className:`flex flex-col ${$?"h-full":""}`,children:[v&&e.jsx("div",{className:"p-3 bg-primary-500/10 border-b border-primary-500/30",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm text-primary-400 font-medium",children:["Comanda #",E]}),e.jsx("p",{className:"text-lg font-bold text-white",children:P})]}),e.jsx("div",{className:"px-3 py-1 bg-primary-500/20 rounded-lg",children:e.jsx("span",{className:"text-sm font-medium text-primary-400",children:"Conto Aperto"})})]})}),!v&&e.jsxs("div",{className:"p-3 border-b border-dark-700",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>k("dine_in"),className:`flex items-center justify-center gap-2 px-3 py-2.5 rounded-xl transition-all flex-1 ${o==="dine_in"?"bg-primary-500 text-dark-900":"bg-dark-700 text-dark-300 hover:bg-dark-600"}`,children:[e.jsx(je,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Tavolo"})]}),e.jsxs("button",{onClick:()=>k("takeaway"),className:`flex items-center justify-center gap-2 px-3 py-2.5 rounded-xl transition-all flex-1 ${o==="takeaway"?"bg-primary-500 text-dark-900":"bg-dark-700 text-dark-300 hover:bg-dark-600"}`,children:[e.jsx(Ne,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Asporto"})]}),e.jsxs("button",{onClick:()=>k("delivery"),className:`flex items-center justify-center gap-2 px-3 py-2.5 rounded-xl transition-all flex-1 ${o==="delivery"?"bg-primary-500 text-dark-900":"bg-dark-700 text-dark-300 hover:bg-dark-600"}`,children:[e.jsx(We,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Domicilio"})]})]}),o==="dine_in"&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-xs text-dark-400 mb-2",children:"Seleziona tavolo:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:G.map(t=>e.jsx("button",{onClick:()=>F?F(t.id):T(t.id),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all ${X===t.id?"bg-primary-500 text-dark-900":"bg-dark-700 text-dark-300 hover:bg-dark-600"}`,children:t.name},t.id))})]}),(o==="takeaway"||o==="delivery")&&e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsx("input",{type:"text",placeholder:"Nome cliente",value:J,onChange:t=>K(t.target.value),className:"input py-2.5 text-base"}),e.jsx("input",{type:"tel",placeholder:"Telefono",value:W,onChange:t=>Z(t.target.value),className:"input py-2.5 text-base"})]})]}),e.jsxs("div",{className:"px-3 py-2 bg-dark-900/50 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-4 h-4 text-primary-400"}),e.jsxs("span",{className:"text-sm font-medium text-white",children:[d," articoli"]})]}),u.length>0&&e.jsx("button",{onClick:M,className:"text-xs text-red-400 hover:text-red-300 transition-colors px-2 py-1",children:"Svuota"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-3 min-h-[150px]",children:u.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-dark-400 py-8",children:[e.jsx(H,{className:"w-12 h-12 mb-3 opacity-50"}),e.jsx("p",{className:"text-sm",children:"Carrello vuoto"}),e.jsx("p",{className:"text-xs mt-1",children:"Tocca un prodotto per aggiungerlo"})]}):e.jsx("div",{className:"space-y-2",children:u.map(t=>e.jsxs("div",{className:"bg-dark-900 rounded-xl p-3",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-white text-sm truncate",children:t.name}),e.jsxs("p",{className:"text-xs text-primary-400 mt-0.5",children:["â‚¬",t.price.toFixed(2)," Ã— ",t.quantity," = â‚¬",(t.price*t.quantity).toFixed(2)]}),t.notes&&h!==t.id&&e.jsxs("p",{className:"text-xs text-amber-400 mt-1 truncate",children:["ðŸ“ ",t.notes]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("button",{onClick:()=>x(h===t.id?null:t.id),className:`w-9 h-9 rounded-lg flex items-center justify-center transition-colors ${h===t.id||t.notes?"bg-amber-500/20 text-amber-400":"bg-dark-700 text-dark-400 hover:bg-dark-600"}`,children:e.jsx(fe,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>C(t.id,-1),className:"w-9 h-9 rounded-lg bg-dark-700 flex items-center justify-center hover:bg-dark-600 transition-colors",children:e.jsx(as,{className:"w-4 h-4"})}),e.jsx("span",{className:"w-8 text-center text-base font-semibold",children:t.quantity}),e.jsx("button",{onClick:()=>C(t.id,1),className:"w-9 h-9 rounded-lg bg-dark-700 flex items-center justify-center hover:bg-dark-600 transition-colors",children:e.jsx(Qe,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>O(t.id),className:"w-9 h-9 ml-1 text-red-400 hover:bg-red-500/20 rounded-lg transition-colors flex items-center justify-center",children:e.jsx(Ae,{className:"w-4 h-4"})})]})]}),h===t.id&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-dark-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(fe,{className:"w-4 h-4 text-amber-400"}),e.jsx("span",{className:"text-xs text-amber-400 font-medium",children:"Note / Variazioni"})]}),e.jsx("input",{type:"text",value:t.notes||"",onChange:m=>S(t.id,m.target.value),placeholder:"Es: senza cipolla, piccante...",className:"w-full bg-dark-800 border border-dark-600 rounded-lg px-3 py-2 text-sm text-white placeholder-dark-500 focus:outline-none focus:border-amber-500"}),e.jsx("div",{className:"flex flex-wrap gap-1.5 mt-2",children:["Senza cipolla","Piccante","Extra salsa","Ben cotto"].map(m=>e.jsxs("button",{onClick:()=>{const D=t.notes||"",V=D?`${D}, ${m}`:m;S(t.id,V)},className:"px-2.5 py-1 text-xs bg-dark-700 text-dark-300 rounded-lg hover:bg-dark-600 transition-colors",children:["+ ",m]},m))})]})]},t.id))})}),u.length>0&&e.jsxs("div",{className:"border-t border-dark-700 bg-dark-800",children:[e.jsx("div",{className:"px-3 py-2 border-b border-dark-700",children:e.jsx("input",{type:"text",placeholder:"Note ordine (opzionale)...",value:N,onChange:t=>w(t.target.value),className:"input py-2.5 text-base"})}),!v&&e.jsxs("div",{className:"px-3 py-3 flex items-center gap-2 border-b border-dark-700",children:[e.jsxs("div",{className:"flex gap-2 flex-1",children:[e.jsxs("button",{onClick:()=>g("cash"),className:`flex items-center justify-center gap-1.5 px-3 py-2 rounded-xl transition-all flex-1 ${p==="cash"?"bg-emerald-500 text-white":"bg-dark-700 text-dark-300 hover:bg-dark-600"}`,children:[e.jsx(Xe,{className:"w-5 h-5"}),e.jsx("span",{className:"text-xs font-medium",children:"Contanti"})]}),e.jsxs("button",{onClick:()=>g("card"),className:`flex items-center justify-center gap-1.5 px-3 py-2 rounded-xl transition-all flex-1 ${p==="card"?"bg-blue-500 text-white":"bg-dark-700 text-dark-300 hover:bg-dark-600"}`,children:[e.jsx(Ie,{className:"w-5 h-5"}),e.jsx("span",{className:"text-xs font-medium",children:"Carta"})]}),e.jsxs("button",{onClick:()=>g("online"),className:`flex items-center justify-center gap-1.5 px-3 py-2 rounded-xl transition-all flex-1 ${p==="online"?"bg-purple-500 text-white":"bg-dark-700 text-dark-300 hover:bg-dark-600"}`,children:[e.jsx(Ge,{className:"w-5 h-5"}),e.jsx("span",{className:"text-xs font-medium",children:"Online"})]})]}),e.jsxs("button",{onClick:()=>A(!c),className:`flex items-center gap-1.5 px-4 py-2 rounded-xl transition-all ${c?"bg-primary-500 text-dark-900":"bg-dark-700 text-dark-300 hover:bg-dark-600"}`,children:[c&&e.jsx(de,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-medium",children:"SMAC"})]})]}),e.jsx("div",{className:"px-3 py-3 space-y-1",children:v?e.jsxs("div",{className:"flex justify-between text-xl font-bold text-white",children:[e.jsx("span",{children:"Totale Comanda"}),e.jsxs("span",{className:"text-primary-400",children:["â‚¬",b.toFixed(2)]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between text-sm text-dark-400",children:[e.jsx("span",{children:"Subtotale"}),e.jsxs("span",{children:["â‚¬",b.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-sm text-dark-400",children:[e.jsxs("span",{children:["IVA (",_,"%)"]}),e.jsxs("span",{children:["â‚¬",q.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-xl font-bold text-white pt-2",children:[e.jsx("span",{children:"Totale"}),e.jsxs("span",{className:"text-primary-400",children:["â‚¬",j.toFixed(2)]})]})]})}),e.jsx("div",{className:"p-3 pt-0 pb-safe",children:e.jsx("button",{onClick:z,disabled:u.length===0||I,className:"btn-primary w-full py-4 text-base font-semibold",children:I?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-dark-900"}):v?e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"w-5 h-5"}),"Invia Comanda #",E," - â‚¬",b.toFixed(2)]}):e.jsxs(e.Fragment,{children:[e.jsx(de,{className:"w-5 h-5"}),"Conferma Ordine - â‚¬",j.toFixed(2)]})})})]}),u.length===0&&e.jsx("div",{className:"p-3 border-t border-dark-700 pb-safe",children:e.jsxs("button",{disabled:!0,className:"btn-primary w-full py-4 opacity-50 cursor-not-allowed text-base",children:[e.jsx(H,{className:"w-5 h-5"}),"Aggiungi prodotti"]})})]})}function os(){const $=Me(),[o]=Oe(),[k,X]=n.useState([]),[T,F]=n.useState([]),[G,J]=n.useState([]),[K,W]=n.useState(null),[Z,u]=n.useState(!0),[d,b]=n.useState(null),[_,q]=n.useState(1),[j,h]=n.useState(null),[x,N]=n.useState([]),[w,p]=n.useState("dine_in"),[g,c]=n.useState(null),[A,I]=n.useState("cash"),[M,C]=n.useState(""),[O,S]=n.useState(""),[z,v]=n.useState(""),[P,E]=n.useState(!1),[t,m]=n.useState(!1),[D,V]=n.useState(null),[ge,ee]=n.useState(!1),[ve,B]=n.useState(!1),[i,se]=n.useState(null),[te,ae]=n.useState([]),[R,ne]=n.useState(null),re=o.get("session"),le=o.get("table");n.useEffect(()=>{ye()},[re,le]);async function ye(){try{const[s,a,l,r]=await Promise.all([ze(),Pe(),Ee(),De()]);if(X(s),F(a),J(l),W(r),s.length>0&&h(s[0].id),re){const he=parseInt(re),y=await Ve(he);if(y){b(y),c(y.table_id),p("dine_in");const qe=await pe(he);q(qe),y.customer_name&&C(y.customer_name),y.customer_phone&&S(y.customer_phone)}}else le&&(c(parseInt(le)),p("dine_in"))}catch(s){console.error("Error loading data:",s),f("Errore nel caricamento dati","error")}finally{u(!1)}}const ce=j?T.filter(s=>s.category_id===j&&s.available):T.filter(s=>s.available),U=x.reduce((s,a)=>s+a.price*a.quantity,0),L=x.reduce((s,a)=>s+a.quantity,0),oe=K?.iva_rate||17,xe=U*(oe/100),ie=U+xe;function me(s){N(a=>a.find(r=>r.id===s.id)?a.map(r=>r.id===s.id?{...r,quantity:r.quantity+1}:r):[...a,{...s,quantity:1}]),f(`${s.name} aggiunto`,"success")}function ke(s,a){N(l=>l.map(r=>r.id===s?{...r,quantity:Math.max(0,r.quantity+a)}:r).filter(r=>r.quantity>0))}function we(s){N(a=>a.filter(l=>l.id!==s))}function Ce(s,a){N(l=>l.map(r=>r.id===s?{...r,notes:a}:r))}function Se(){N([]),V(null)}async function _e(s){if(d)return;const a=await Ye(s);if(a){const l=await He(a.id);se(a),ae(l),ne(s),B(!0)}else c(s),b(null)}async function $e(){if(!i||!R)return;b(i),c(R),p("dine_in");const s=await pe(i.id);q(s),i.customer_name&&C(i.customer_name),i.customer_phone&&S(i.customer_phone),B(!1),se(null),ae([]),ne(null),f("Comanda associata al conto aperto","success")}function Te(){R&&c(R),B(!1),se(null),ae([]),ne(null)}async function Fe(){if(x.length===0){f("Aggiungi almeno un prodotto","warning");return}if(w==="dine_in"&&!g&&!d){f("Seleziona un tavolo","warning");return}m(!0);try{const s={date:new Date().toISOString().split("T")[0],total:d?U:ie,payment_method:d?"cash":A,order_type:w,table_id:w==="dine_in"?g??void 0:void 0,notes:z||void 0,status:"pending",smac_passed:d?!1:P,customer_name:M||void 0,customer_phone:O||void 0,session_id:d?.id,order_number:d?_:void 0},a=x.map(l=>({menu_item_id:l.id,quantity:l.quantity,price:l.price,notes:l.notes}));await Ue(s,a),d?(await Le(d.id),f(`Comanda #${_} inviata!`,"success"),$("/tables")):(f("Ordine creato con successo!","success"),$("/orders"))}catch(s){console.error("Error creating order:",s),f("Errore nella creazione dell'ordine","error")}finally{m(!1)}}if(Z)return e.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)]",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})});const Y=!!d,ue={orderType:w,setOrderType:Y?()=>{}:p,selectedTable:g,setSelectedTable:Y?()=>{}:c,onTableSelect:Y?void 0:_e,tables:G,customerName:M,setCustomerName:C,customerPhone:O,setCustomerPhone:S,cart:x,cartItemsCount:L,cartTotal:U,ivaRate:oe,ivaAmount:xe,grandTotal:ie,expandedItemId:D,setExpandedItemId:V,notes:z,setNotes:v,paymentMethod:A,setPaymentMethod:I,smacPassed:P,setSmacPassed:E,isSubmitting:t,clearCart:Se,updateQuantity:ke,removeFromCart:we,updateItemNotes:Ce,submitOrder:Fe,isSessionOrder:Y,sessionTableName:d?.table_name,orderNumber:_};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"hidden lg:flex gap-4 h-[calc(100vh-100px)]",children:[e.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[e.jsx("div",{className:"flex gap-2 mb-4 overflow-x-auto pb-2",children:k.map(s=>e.jsx("button",{onClick:()=>h(s.id),className:`px-6 py-3 rounded-xl font-medium whitespace-nowrap transition-all ${j===s.id?"bg-primary-500 text-dark-900":"bg-dark-800 text-dark-300 hover:bg-dark-700"}`,children:s.name},s.id))}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4",children:ce.map(s=>e.jsxs("button",{onClick:()=>me(s),className:"menu-item-card text-left",children:[e.jsx("h3",{className:"font-semibold text-white mb-1 line-clamp-2",children:s.name}),s.description&&e.jsx("p",{className:"text-sm text-dark-400 mb-2 line-clamp-2",children:s.description}),e.jsxs("p",{className:"text-xl font-bold text-primary-400",children:["â‚¬",s.price.toFixed(2)]})]},s.id))})})]}),e.jsx("div",{className:"w-[420px] flex flex-col bg-dark-800 rounded-2xl border border-dark-700",children:e.jsx(be,{...ue})})]}),e.jsxs("div",{className:"lg:hidden flex flex-col h-[calc(100vh-120px)]",children:[e.jsx("div",{className:"flex gap-2 mb-3 overflow-x-auto pb-2 -mx-3 px-3",children:k.map(s=>e.jsx("button",{onClick:()=>h(s.id),className:`px-4 py-2.5 rounded-xl font-medium whitespace-nowrap transition-all text-sm ${j===s.id?"bg-primary-500 text-dark-900":"bg-dark-800 text-dark-300"}`,children:s.name},s.id))}),e.jsx("div",{className:"flex-1 overflow-y-auto -mx-3 px-3 pb-24",children:e.jsx("div",{className:"grid grid-cols-2 gap-2",children:ce.map(s=>{const a=x.find(l=>l.id===s.id);return e.jsxs("button",{onClick:()=>me(s),className:"relative bg-dark-800 rounded-xl p-3 text-left active:scale-[0.98] transition-transform border border-dark-700",children:[a&&e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-primary-500 rounded-full flex items-center justify-center text-xs font-bold text-dark-900",children:a.quantity}),e.jsx("h3",{className:"font-semibold text-white text-sm line-clamp-2 mb-1",children:s.name}),e.jsxs("p",{className:"text-lg font-bold text-primary-400",children:["â‚¬",s.price.toFixed(2)]})]},s.id)})})}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-dark-900 border-t border-dark-700 lg:hidden z-30 safe-bottom",children:e.jsxs("button",{onClick:()=>ee(!0),className:"w-full flex items-center justify-between p-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(H,{className:"w-6 h-6 text-primary-400"}),L>0&&e.jsx("span",{className:"absolute -top-2 -right-2 w-5 h-5 bg-primary-500 rounded-full flex items-center justify-center text-xs font-bold text-dark-900",children:L})]}),e.jsx("span",{className:"text-white font-medium",children:x.length===0?"Carrello vuoto":`${L} articoli`})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xl font-bold text-primary-400",children:["â‚¬",ie.toFixed(2)]}),e.jsx(es,{className:"w-5 h-5 text-dark-400"})]})]})}),ge&&e.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:()=>ee(!1)}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-dark-800 rounded-t-3xl max-h-[90vh] flex flex-col animate-slide-up",children:[e.jsx("div",{className:"flex justify-center pt-3 pb-1",children:e.jsx("div",{className:"w-12 h-1.5 bg-dark-600 rounded-full"})}),e.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-dark-700",children:[e.jsx("h2",{className:"text-lg font-bold text-white",children:"Il tuo ordine"}),e.jsx("button",{onClick:()=>ee(!1),className:"p-2 hover:bg-dark-700 rounded-lg transition-colors",children:e.jsx(Be,{className:"w-6 h-6 text-dark-400"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx(be,{...ue,isMobile:!0})})]})]})]}),e.jsx("style",{children:`
        @keyframes slide-up {
          from {
            transform: translateY(100%);
          }
          to {
            transform: translateY(0);
          }
        }
        .animate-slide-up {
          animation: slide-up 0.3s ease-out;
        }
        .safe-bottom {
          padding-bottom: env(safe-area-inset-bottom, 0);
        }
        .pb-safe {
          padding-bottom: env(safe-area-inset-bottom, 12px);
        }
      `}),e.jsx(Je,{isOpen:ve,onClose:()=>B(!1),title:"Conto Aperto Rilevato",size:"md",children:i&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-amber-500/10 border border-amber-500/30 rounded-xl",children:[e.jsx(Re,{className:"w-6 h-6 text-amber-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-amber-400",children:"Questo tavolo ha giÃ  un conto aperto"}),e.jsx("p",{className:"text-sm text-dark-300 mt-1",children:"Vuoi aggiungere la comanda al conto esistente?"})]})]}),e.jsxs("div",{className:"p-4 bg-dark-900 rounded-xl",children:[e.jsx("h3",{className:"font-semibold text-white mb-3",children:i.table_name||`Tavolo ${i.table_id}`}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 text-dark-400",children:[e.jsx(je,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Coperti"})]}),e.jsx("p",{className:"text-lg font-bold text-white",children:i.covers})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 text-dark-400",children:[e.jsx(Ne,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Comande"})]}),e.jsx("p",{className:"text-lg font-bold text-white",children:te.length})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-dark-400",children:"Totale"}),e.jsxs("p",{className:"text-lg font-bold text-primary-400",children:["â‚¬",i.total.toFixed(2)]})]})]}),i.customer_name&&e.jsxs("p",{className:"mt-3 text-sm text-dark-400",children:["Cliente: ",e.jsx("span",{className:"text-white",children:i.customer_name})]}),te.length>0&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-dark-700",children:[e.jsx("p",{className:"text-sm text-dark-400 mb-2",children:"Comande esistenti:"}),e.jsx("div",{className:"space-y-1 max-h-24 overflow-y-auto",children:te.map(s=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-dark-300",children:["Comanda #",s.order_number||1]}),e.jsxs("span",{className:"text-white",children:["â‚¬",s.total.toFixed(2)]})]},s.id))})]})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("button",{onClick:$e,className:"btn-primary w-full py-3",children:"SÃ¬, aggiungi al conto"}),e.jsx("button",{onClick:Te,className:"btn-secondary w-full",children:"No, crea ordine separato"})]})]})})]})}export{os as NewOrder};
